<style>
  .weui-media-box{
    padding: 6px;
  }
  .weui-media-box__title {
    font-weight:600;
    color:#D2B48C;
  }
  .weui-media-box__thumb {
    width: 32px;
    height: 32px;
    vertical-align: top;
  }
  .weui-media-box {
    margin: 10px;
    }
  .weui-media-box__hd_in-appmsg {
    height:initial;
    line-height: initial;
  }
  .weui-panel__bd{
    box-shadow: 0 .125rem .25rem rgba(0,0,0,.075)!important;
    margin-left: 12px;
    margin-right: 12px;
  }
  .image{
    width:320px;
    height: 320px;
  }
  .deg button{
  position: unset!important;
  display: unset!important;
  margin-left: unset!important;
  margin-right: unset!important;
  padding-left: unset!important;
  padding-right: unset!important;
  box-sizing: unset!important;
  font-size: unset!important;
  text-align: unset!important;
  text-decoration: unset!important;
  line-height: unset!important;
  border-radius: unset!important;
  -webkit-tap-highlight-color: unset!important;
  overflow: unset!important;
  color: unset!important;
  background-color: unset!important;
  }
.deg button:after{border:none;}
</style>
<template>
  <view class="page__bd">    
      <view class="weui-panel__hd">ä¸”éšç–¾é£å‰è¡Œï¼Œèº«åäº¦éœ€ç•™å¿ƒ</view>
      <view class="weui-panel__bd">
        <repeat for="{{ topics }}" key="id" index="index" item="topic">
          <navigator url="{{ topic.url }}" class="weui-media-box weui-media-box_appmsg" hover-class="weui-cell_active">
            <view class="weui-media-box__hd weui-media-box__hd_in-appmsg">
              <image class="weui-media-box__thumb" src="{{ topic.img }}" />
            </view>
            <view class="weui-media-box__bd weui-media-box__bd_in-appmsg">
              <view class="weui-media-box__title">{{ topic.title }}</view>
              <view class="weui-media-box__desc">{{ topic.body }}</view>
            </view>
          </navigator>
        </repeat>
      </view>
      <modal title="æ‰«æäºŒç»´ç åŠ å…¥ç¾¤èŠ" hidden="{{modalHidden}}" no-cancel=true bindconfirm="modalConfirm" bindcancel="modalCandel">
        <view>
          <image class="image" src="http://k.nmsl8.club/wp-content/uploads/2019/11/wx.png" mode='aspectFill' data-src="http://k.nmsl8.club/wp-content/uploads/2019/11/wx.png"  bindtap="previewImage"></image>
        </view>
      </modal>
  </view>
  <view class="weui-footer">
  <view class="weui-footer__links">
  <navigator class="weui-footer__link" url="/pages/surport" role="navigation">å­—è¯æˆ‘ä»¬</navigator>
  <navigator class="weui-footer__link deg" role="navigation" ><button open-type="contact">å®¢æœ</button></navigator>
  <navigator class="weui-footer__link" role="navigation" @tap="qun">åŠ å…¥ç¾¤èŠ</navigator>
  </view>
  <view class="weui-footer__text">Â© 2017-2020 nmsl8.club</view>
  </view>
</template>


<script>
  import wepy from 'wepy'

  export default class Index extends wepy.page {
    // å¯ç”¨äºé¡µé¢æ¨¡æ¿ç»‘å®šçš„æ•°æ®
    data = {
      topics: [{
        id: 1,
        img: 'https://s.nmsl8.club/img/app/bqb.png',
        title: 'æŠ½è±¡è¡¨æƒ…åŒ…',
        body: 'ğŸ„â€äººç”¨çš„è¡¨æƒ…åŒ…',
        url:"/pages/pic"
      }, {
        id: 2,
        img: 'https://s.nmsl8.club/img/app/zc.png',
        title: 'å˜´è‡­ç”Ÿæˆå™¨',
        body: 'æœ€ç®€å•çš„å˜´è‡­ï¼Œæœ€æè‡´çš„äº«å—',
        url:"/pages/sentence?type=6"
      }, {
        id: 3,
        img: 'https://s.nmsl8.club/img/app/zt.png',
        title: 'å˜´ç”œç”Ÿæˆå™¨',
        body: 'è°ä¸æƒ³è¦ç”œç”œçš„æ‹çˆ±ğŸ’‘',
        url:"/pages/sentence?type=1"
      }, {
        id: 4,
        img: 'https://s.nmsl8.club/img/app/pyq.png',
        title: 'æœ‹å‹åœˆæ–‡æ¡ˆç”Ÿæˆå™¨',
        body: 'ä¸çŸ¥é“å‘ä»€ä¹ˆï¼Ÿæ¥é€‰ä¸€æ¡å§',
        url:"/pages/sentence?type=3"
      }, {
        id: 5,
        img: 'https://s.nmsl8.club/img/app/djt.png',
        title: 'æ¯’é¸¡æ±¤ç”Ÿæˆå™¨',
        body: 'æœ‰æ—¶å€™ä½ ä¸é€¼è‡ªå·±ä¸€æŠŠï¼Œä½ éƒ½ä¸çŸ¥é“ä»€ä¹ˆå«ç»æœ›',
        url:"/pages/sentence?type=4"
      }, {
        id: 6,
        img: 'https://s.nmsl8.club/img/app/cxh.png',
        title: 'æŠ½è±¡è¯ç”Ÿæˆå™¨',
        body: 'ğŸŒ¶æ˜¯ğŸ’‰ğŸ‰ğŸ‚ğŸº',
        url:"/pages/cxh"
      }, {
        id: 7,
        img: 'https://s.nmsl8.club/img/app/fsj.png',
        title: 'æµ®ç”Ÿè®°',
        body: 'ä½ åœ¨å±±ä¸Šï¼Œçœ‹ç€æˆ‘æ­» [å¾…æ›´æ–°]',
        url:"/pages/fsj"
      }],
      modalHidden: true,
      nocancel: true
    }
    methods = {
      async modalConfirm () {
        this.modalHidden = true
      },
      qun () {
        this.modalHidden = false
      },
      previewImage () {
        console.log(1)
        wx.previewImage({
          current: 'http://k.nmsl8.club/wp-content/uploads/2019/11/wx.png',//éœ€è¦é¢„è§ˆçš„å›¾ç‰‡é“¾æ¥åˆ—è¡¨
          urls: ['http://k.nmsl8.club/wp-content/uploads/2019/11/wx.png']  //å½“å‰æ˜¾ç¤ºå›¾ç‰‡çš„é“¾æ¥
        })
      }
    }
    onShareAppMessage (res) {
      return {
        // æ ‡é¢˜æ˜¯è¯é¢˜æ ‡é¢˜
        title: 'æŠ½è±¡APP',
        // è·¯å¾„ä¸ºè¯é¢˜è¯¦æƒ…è·¯å¾„
        path: '/pages/index',
        success: function(res) {
          // è½¬å‘æˆåŠŸ
          console.log(res)
        },
        fail: function(res) {
          // è½¬å‘å¤±è´¥
          console.log(res)
        }
      }
    }
  }
</script>
